{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KEERTHANA R\\\\Desktop\\\\Drobo1\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { login } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setPage,\n  onLogin\n}) {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [mode, setMode] = useState(\"customer\"); // \"customer\" | \"admin\"\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      const result = await login({\n        username,\n        password\n      });\n      if (result.token && onLogin) {\n        onLogin(result.token);\n      } else if (result.token) {\n        setError(\"Login error: missing callback\");\n      } else {\n        setError(result.message || \"Login failed\");\n      }\n    } catch (err) {\n      console.error(\"Login error:\", err);\n      setError(err.message || \"Login failed. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"4px 0\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        marginBottom: 16,\n        backgroundColor: \"rgba(15,23,42,0.9)\",\n        borderRadius: 999,\n        padding: 4,\n        border: \"1px solid rgba(148,163,184,0.6)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setMode(\"customer\");\n          setUsername(\"\");\n          setPassword(\"\");\n          setError(\"\");\n        },\n        style: {\n          flex: 1,\n          padding: \"8px 0\",\n          borderRadius: 999,\n          border: \"none\",\n          backgroundColor: mode === \"customer\" ? \"#22c55e\" : \"transparent\",\n          color: mode === \"customer\" ? \"#020617\" : \"#e5e7eb\",\n          fontSize: 13,\n          fontWeight: 600,\n          cursor: \"pointer\"\n        },\n        children: \"Customer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setMode(\"admin\");\n          setUsername(\"\");\n          setPassword(\"\");\n          setError(\"\");\n        },\n        style: {\n          flex: 1,\n          padding: \"8px 0\",\n          borderRadius: 999,\n          border: \"none\",\n          backgroundColor: mode === \"admin\" ? \"#22c55e\" : \"transparent\",\n          color: mode === \"admin\" ? \"#020617\" : \"#e5e7eb\",\n          fontSize: 13,\n          fontWeight: 600,\n          cursor: \"pointer\"\n        },\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: 0,\n        marginBottom: 12\n      },\n      children: mode === \"admin\" ? \"Admin login\" : \"Customer login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), mode === \"admin\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: 0,\n        marginBottom: 12,\n        fontSize: 12,\n        color: \"#9ca3af\"\n      },\n      children: \"Admins can manage products. Customers can browse and buy.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"15px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true,\n          style: {\n            width: \"100%\",\n            padding: \"10px\",\n            fontSize: \"16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"15px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          style: {\n            width: \"100%\",\n            padding: \"10px\",\n            fontSize: \"16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          marginBottom: \"15px\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          fontSize: \"16px\",\n          backgroundColor: \"#007bff\",\n          color: \"white\",\n          border: \"none\",\n          cursor: \"pointer\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), mode === \"customer\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setPage(\"register\"),\n      style: {\n        marginTop: \"10px\",\n        width: \"100%\",\n        padding: \"10px\",\n        fontSize: \"14px\",\n        backgroundColor: \"transparent\",\n        border: \"1px solid #007bff\",\n        color: \"#007bff\",\n        cursor: \"pointer\"\n      },\n      children: \"Don't have an account? Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"wyeWPVfxLli52Gt7yWaN29hIxKA=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","login","jsxDEV","_jsxDEV","Login","setPage","onLogin","_s","username","setUsername","password","setPassword","error","setError","mode","setMode","handleSubmit","e","preventDefault","result","token","message","err","console","style","padding","children","display","marginBottom","backgroundColor","borderRadius","border","type","onClick","flex","color","fontSize","fontWeight","cursor","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","onSubmit","placeholder","value","onChange","target","required","width","_c","$RefreshReg$"],"sources":["C:/Users/KEERTHANA R/Desktop/Drobo1/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { login } from \"../api\";\n\nfunction Login({ setPage, onLogin }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [mode, setMode] = useState(\"customer\"); // \"customer\" | \"admin\"\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      const result = await login({ username, password });\n      if (result.token && onLogin) {\n        onLogin(result.token);\n      } else if (result.token) {\n        setError(\"Login error: missing callback\");\n      } else {\n        setError(result.message || \"Login failed\");\n      }\n    } catch (err) {\n      console.error(\"Login error:\", err);\n      setError(err.message || \"Login failed. Please try again.\");\n    }\n  };\n\n  return (\n    <div style={{ padding: \"4px 0\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          marginBottom: 16,\n          backgroundColor: \"rgba(15,23,42,0.9)\",\n          borderRadius: 999,\n          padding: 4,\n          border: \"1px solid rgba(148,163,184,0.6)\",\n        }}\n      >\n        <button\n          type=\"button\"\n          onClick={() => {\n            setMode(\"customer\");\n            setUsername(\"\");\n            setPassword(\"\");\n            setError(\"\");\n          }}\n          style={{\n            flex: 1,\n            padding: \"8px 0\",\n            borderRadius: 999,\n            border: \"none\",\n            backgroundColor: mode === \"customer\" ? \"#22c55e\" : \"transparent\",\n            color: mode === \"customer\" ? \"#020617\" : \"#e5e7eb\",\n            fontSize: 13,\n            fontWeight: 600,\n            cursor: \"pointer\",\n          }}\n        >\n          Customer\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            setMode(\"admin\");\n            setUsername(\"\");\n            setPassword(\"\");\n            setError(\"\");\n          }}\n          style={{\n            flex: 1,\n            padding: \"8px 0\",\n            borderRadius: 999,\n            border: \"none\",\n            backgroundColor: mode === \"admin\" ? \"#22c55e\" : \"transparent\",\n            color: mode === \"admin\" ? \"#020617\" : \"#e5e7eb\",\n            fontSize: 13,\n            fontWeight: 600,\n            cursor: \"pointer\",\n          }}\n        >\n          Admin\n        </button>\n      </div>\n\n      <h2 style={{ marginTop: 0, marginBottom: 12 }}>\n        {mode === \"admin\" ? \"Admin login\" : \"Customer login\"}\n      </h2>\n      {mode === \"admin\" && (\n        <p\n          style={{\n            marginTop: 0,\n            marginBottom: 12,\n            fontSize: 12,\n            color: \"#9ca3af\",\n          }}\n        >\n          Admins can manage products. Customers can browse and buy.\n        </p>\n      )}\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: \"15px\" }}>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n            style={{ width: \"100%\", padding: \"10px\", fontSize: \"16px\" }}\n          />\n        </div>\n        <div style={{ marginBottom: \"15px\" }}>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            style={{ width: \"100%\", padding: \"10px\", fontSize: \"16px\" }}\n          />\n        </div>\n        {error && (\n          <div style={{ color: \"red\", marginBottom: \"15px\" }}>{error}</div>\n        )}\n        <button\n          type=\"submit\"\n          style={{\n            width: \"100%\",\n            padding: \"10px\",\n            fontSize: \"16px\",\n            backgroundColor: \"#007bff\",\n            color: \"white\",\n            border: \"none\",\n            cursor: \"pointer\",\n          }}\n        >\n          Login\n        </button>\n      </form>\n      {mode === \"customer\" && (\n        <button\n          onClick={() => setPage(\"register\")}\n          style={{\n            marginTop: \"10px\",\n            width: \"100%\",\n            padding: \"10px\",\n            fontSize: \"14px\",\n            backgroundColor: \"transparent\",\n            border: \"1px solid #007bff\",\n            color: \"#007bff\",\n            cursor: \"pointer\",\n          }}\n        >\n          Don't have an account? Register\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}