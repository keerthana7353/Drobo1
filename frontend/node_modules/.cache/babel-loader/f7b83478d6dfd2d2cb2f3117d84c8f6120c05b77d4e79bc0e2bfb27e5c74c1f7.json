{"ast":null,"code":"const API = \"http://localhost:5000/api\";\nexport const register = data => fetch(`${API}/register`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(res => res.json());\nexport const getMe = token => fetch(`${API}/me`, {\n  headers: {\n    Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`\n  }\n}).then(async res => {\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.message || \"Failed to get user\");\n  return data;\n});\nexport const login = data => fetch(`${API}/login`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(async res => {\n  const data = await res.json();\n  if (!res.ok) {\n    throw new Error(data.message || \"Login failed\");\n  }\n  return data;\n});\nexport const getProducts = () => fetch(`${API}/products`).then(res => res.json());\nexport const getCart = token => fetch(`${API}/cart`, {\n  headers: {\n    Authorization: token\n  }\n}).then(res => res.json());\nexport const addToCart = (token, product) => fetch(`${API}/cart`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(product)\n}).then(res => res.json());\nexport const removeFromCart = (token, id) => fetch(`${API}/cart/${id}`, {\n  method: \"DELETE\",\n  headers: {\n    Authorization: token\n  }\n}).then(res => res.json());\nexport const createProduct = (token, data) => fetch(`${API}/products`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(data)\n}).then(async res => {\n  const result = await res.json();\n  if (!res.ok) throw new Error(result.message || \"Failed to add product\");\n  return result;\n});\nexport const checkoutCart = token => fetch(`${API}/checkout`, {\n  method: \"POST\",\n  headers: {\n    Authorization: token\n  }\n}).then(res => res.json());\nexport const updateProduct = (token, id, data) => fetch(`${API}/products/${id}`, {\n  method: \"PUT\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`\n  },\n  body: JSON.stringify(data)\n}).then(async res => {\n  const result = await res.json();\n  if (!res.ok) {\n    throw new Error(result.message || \"Update failed\");\n  }\n  return result;\n});\nexport const deleteProduct = (token, id) => fetch(`${API}/products/${id}`, {\n  method: \"DELETE\",\n  headers: {\n    Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`\n  }\n}).then(async res => {\n  const result = await res.json();\n  if (!res.ok) throw new Error(result.message || \"Failed to delete\");\n  return result;\n});","map":{"version":3,"names":["API","register","data","fetch","method","headers","body","JSON","stringify","then","res","json","getMe","token","Authorization","startsWith","ok","Error","message","login","getProducts","getCart","addToCart","product","removeFromCart","id","createProduct","result","checkoutCart","updateProduct","deleteProduct"],"sources":["C:/Users/KEERTHANA R/Desktop/Drobo1/frontend/src/api.js"],"sourcesContent":["\nconst API = \"http://localhost:5000/api\";\n\nexport const register = (data) =>\n  fetch(`${API}/register`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  }).then(res => res.json());\n\nexport const getMe = (token) =>\n  fetch(`${API}/me`, {\n    headers: {\n      Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`,\n    },\n  }).then(async (res) => {\n    const data = await res.json();\n    if (!res.ok) throw new Error(data.message || \"Failed to get user\");\n    return data;\n  });\n\nexport const login = (data) =>\n  fetch(`${API}/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    const data = await res.json();\n    if (!res.ok) {\n      throw new Error(data.message || \"Login failed\");\n    }\n    return data;\n  });\n\nexport const getProducts = () =>\n  fetch(`${API}/products`).then(res => res.json());\n\nexport const getCart = (token) =>\n  fetch(`${API}/cart`, {\n    headers: { Authorization: token },\n  }).then(res => res.json());\n\nexport const addToCart = (token, product) =>\n  fetch(`${API}/cart`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: token,\n    },\n    body: JSON.stringify(product),\n  }).then(res => res.json());\n\nexport const removeFromCart = (token, id) =>\n  fetch(`${API}/cart/${id}`, {\n    method: \"DELETE\",\n    headers: { Authorization: token },\n  }).then(res => res.json());\n\nexport const createProduct = (token, data) =>\n  fetch(`${API}/products`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: token,\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    const result = await res.json();\n    if (!res.ok) throw new Error(result.message || \"Failed to add product\");\n    return result;\n  });\n\nexport const checkoutCart = (token) =>\n  fetch(`${API}/checkout`, {\n    method: \"POST\",\n    headers: { Authorization: token },\n  }).then(res => res.json());\n\nexport const updateProduct = (token, id, data) =>\n  fetch(`${API}/products/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`,\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    const result = await res.json();\n    if (!res.ok) {\n      throw new Error(result.message || \"Update failed\");\n    }\n    return result;\n  });\n\nexport const deleteProduct = (token, id) =>\n  fetch(`${API}/products/${id}`, {\n    method: \"DELETE\",\n    headers: {\n      Authorization: token.startsWith(\"Bearer \") ? token : `Bearer ${token}`,\n    },\n  }).then(async (res) => {\n    const result = await res.json();\n    if (!res.ok) throw new Error(result.message || \"Failed to delete\");\n    return result;\n  });\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}